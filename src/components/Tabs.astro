---
interface TabItem {
  id: string | number;
  name: string;
  isActive?: boolean;
}

interface Props {
  tabItems: TabItem[];
  containerId?: string;
}

const { tabItems, containerId = "tabs-container" } = Astro.props;

const activeTabId =
  tabItems.find((item) => item.isActive)?.id?.toString() ?? tabItems[0]?.id?.toString();
---

<div class="tabs-wrapper flex w-full flex-col gap-6 md:items-center md:gap-7 lg:gap-9">
  <!-- Tabs Buttons -->

  <div
    id={containerId}
    class="scrollbar-hide flex w-full items-center gap-3.5 overflow-x-auto whitespace-nowrap md:gap-5 lg:gap-6"
  >
    {
      tabItems.map((tabItem) => {
        const isActive = tabItem.id.toString() === activeTabId;

        return (
          <button
            data-tab-id={tabItem.id}
            class={`border-n-950 bg-n-100 hover:border-n-100 cursor-pointer rounded-4xl border px-4 py-2.5 transition-colors ${
              isActive ? "text-n-100 bg-n-950" : "text-n-950"
            }`}
          >
            <p class="leading-light text-sm font-normal tracking-normal md:text-lg lg:text-xl">
              {tabItem.name}
            </p>
          </button>
        );
      })
    }
  </div>

  <!-- Tab Content -->
  <div class="tab-content-wrapper w-full">
    <slot />
  </div>
</div>

<script>
  import { initTabs } from "@/scripts/tabs.ts";
  initTabs();
</script>
